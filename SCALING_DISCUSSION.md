# Scaling Discussion

## Scalability Overview

The architecture described uses AWS Lambda for compute and AWS DynamoDB for storage, which are both inherently scalable services. The following sections discuss how the system scales with increasing load, both in terms of user count and cost.

## Load Handling

### 1,000 Users

- **Compute:**

  - AWS Lambda scales automatically with the number of requests.
  - With 1,000 users, each user checking messages once a minute would generate 1,000 requests per minute, which is well within AWS Lambda’s capabilities.
  - Potential bottlenecks are minimal at this scale, and the system should handle the load effortlessly.

- **Storage:**

  - DynamoDB is designed to handle high request rates and can scale its read/write throughput as needed.
  - The read and write operations generated by 1,000 users would be handled comfortably.

- **Cost:**
  - The cost at this scale is relatively low. AWS Lambda charges based on the number of requests and execution time, while DynamoDB charges are based on the read/write capacity and storage.
  - Estimated costs would be within a few dollars per month for both AWS Lambda and DynamoDB.

### 10,000 Users

- **Compute:**

  - AWS Lambda can handle this increased load as long as the individual function execution time remains low.
  - The concurrent execution limits may need to be increased, but AWS provides high concurrency limits.
  - Potential issues might include Lambda cold start latency, which can be mitigated with AWS Lambda Provisioned Concurrency.

- **Storage:**

  - DynamoDB would handle the increased read/write operations. Provisioned throughput or on-demand mode can be adjusted to meet the higher demand.
  - Proper indexing and partitioning strategies would be important to maintain performance.

- **Cost:**
  - Costs will increase linearly with the number of requests. AWS Lambda costs would still be manageable, but DynamoDB costs may start to rise significantly depending on the read/write capacity units (RCUs/WCUs) required.
  - Estimated costs could range from tens to a few hundred dollars per month.

### Millions of Users

- **Compute:**

  - At this scale, AWS Lambda’s concurrency limits and cold start latency could become bottlenecks.
  - Solutions like AWS Lambda Provisioned Concurrency or moving to a containerized architecture (e.g., AWS Fargate) may be required.
  - Consider implementing a microservices architecture to distribute the load more effectively.

- **Storage:**

  - DynamoDB will need careful capacity planning. At this scale, partitioning strategies and efficient indexing become critical to avoid throttling.
  - Consider using DynamoDB streams and other advanced features to handle high throughput.

- **Cost:**
  - Costs can rise substantially. AWS Lambda’s costs will increase due to the high number of executions, and DynamoDB’s costs could escalate with the required throughput capacity and storage.
  - Using DynamoDB's on-demand mode might become prohibitively expensive, and switching to provisioned capacity with auto-scaling would be more cost-effective.
  - Estimated costs could range from hundreds to thousands of dollars per month, depending on usage patterns and optimizations implemented.
